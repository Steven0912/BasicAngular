<div id="main">
    <h1>Listado de productos</h1>

    <button mat-stroked-button color="primary" (click)="newProduct()">{{form ? "Cancelar" : "Nuevo Producto"}}</button>

    <div *ngIf="!form" >
        <div class="mat-elevation-z8" >
            <table mat-table [dataSource]="dataSource" matSort style="width:100%">

                <ng-container matColumnDef="Nombre">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Nombre</th>
                    <td mat-cell *matCellDef="let element"> {{element.Nombre}}</td>
                </ng-container>

                <ng-container matColumnDef="Tipo">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Tipo</th>
                    <td mat-cell *matCellDef="let element"> {{element.Tipo}}</td>
                </ng-container>

                <ng-container matColumnDef="Precio">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Precio</th>
                    <td mat-cell *matCellDef="let element"> {{element.Precio | currency}}</td>
                </ng-container>

                <ng-container matColumnDef="Acciones">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Acciones</th>
                    <td mat-cell *matCellDef="let element">
                        <button mat-stroked-button color="primary" (click)="updateProduct(element)">Actualizar </button>
                        <button mat-stroked-button color="light" (click)="deleteProduct(element)">Eliminar </button>
                    </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            </table>
        </div>



    </div>

    <div *ngIf="form">
        <mat-form-field>
            <input matInput placeholder="Nombre del Producto" [(ngModel)]="nombre">
        </mat-form-field>
        <br />
        <mat-form-field>
            <textarea matInput placeholder="DescripciÃ³n" [(ngModel)]="descripcion"></textarea>
        </mat-form-field>
        <br />
        <mat-form-field>
            <mat-select placeholder="Tipo" [(ngModel)]="tipo">
                <mat-option value="Verdura">Verdura</mat-option>
                <mat-option value="Fruta">Fruta</mat-option>
            </mat-select>
        </mat-form-field>
        <br />
        <mat-form-field>
            <input matInput placeholder="Precio" type="number" [(ngModel)]="precio">
        </mat-form-field>
        <br />
        <button mat-stroked-button color="primary" (click)="storeNewProduct()">Almacenar</button>

    </div>
</div>